(this["webpackJsonpsearch-field"]=this["webpackJsonpsearch-field"]||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(2),c=a.n(s),r=a(13),i=a.n(r),l=(a(23),a(14)),o=a(15),u=a(17),h=a(16),d=(a(24),a(3)),m=a.n(d),j=a.p+"static/media/loader.488387b4.gif",g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target.value;t?s.setState({query:t,loading:!0,message:""},(function(){s.getSearchResults(t)})):s.setState({query:t,results:{},message:""})},s.getSearchResults=function(e){s.cancel&&s.cancel.cancel(),s.cancel=m.a.CancelToken.source(),m.a.get("/search=${query}",{cancelToken:s.cancel.token}).then((function(e){var t=e.data.length?"":"There are no more search results";s.setState({results:e.data,message:t,loading:!1})})).catch((function(e){(m.a.isCancel(e)||e)&&s.setState({loading:!1,message:"Failed to Get Data"})}))},s.renderSearchResults=function(){var e=s.state.results;if(Object.keys(e).length&&e.length)return Object(n.jsx)("div",{className:"results-container",children:e&&e.map((function(e){return Object(n.jsx)("div",{className:"result-item",children:Object(n.jsxs)("h6",{className:"animal-name",children:[e.common_name," , ",e.scientific_name]})},e._id)}))})},s.state={query:"",results:{},loading:!1,mesage:""},s.cancel="",s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="/findAll";console.log(t),m.a.get(t).then((function(t){e.setState({results:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.loading,s=e.message;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{className:"heading",children:"Live Search"}),Object(n.jsxs)("label",{className:"search-label w-100",htmlFor:"search-input",children:[Object(n.jsx)("input",{type:"text",value:t,id:"search-input",placeholder:"Search animals by common or scientific names...",onChange:this.handleInputChange}),Object(n.jsx)("i",{className:"fas fa-search search-icon"})]}),s&&Object(n.jsxs)("p",{className:"message",children:[" ",s," "]}),Object(n.jsx)("img",{src:j,className:"search-loading ".concat(a?"show":"hide"),alt:"loading"}),this.renderSearchResults()]})}}]),a}(s.Component);a(42);var f=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(g,{})})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.ceac3956.chunk.js.map